import { render } from "react-dom";
import { Common } from "./common";
import { Program } from "fable-elmish/elmish";
export function withReact(placeholderId, program) {
    var lastRequest = null;

    var setState = function setState(model) {
        return function (dispatch) {
            if (lastRequest != null) {
                var r = lastRequest;
                window.cancelAnimationFrame(r);
            }

            lastRequest = window.requestAnimationFrame(function (_arg1) {
                render(Common.lazyView2With(function (x) {
                    return function (y) {
                        return x === y;
                    };
                }, program.view, model, dispatch), document.getElementById(placeholderId));
            });
        };
    };

    return new Program(program.init, program.update, program.subscribe, program.view, setState, program.onError);
}
//# sourceMappingURL=react.js.map